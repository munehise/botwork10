//@version=6
strategy("Stochastic Slow Strategy", overlay=true)

// --- Входные параметры ---
length = input.int(14, "Length", minval=1)
OverBought = input.int(80, "Overbought", minval=0, maxval=100)
OverSold = input.int(20, "Oversold", minval=0, maxval=100)
smoothK = input.int(3, "Smooth %K", minval=1, tooltip="Smoothing for %K")
smoothD = input.int(3, "Smooth %D", minval=1, tooltip="Smoothing for %D")

// --- Индикатор Stochastic ---
k = ta.sma(ta.stoch(close, high, low, length), smoothK)
d = ta.sma(k, smoothD)
co = ta.crossover(k, d)
cu = ta.crossunder(k, d)

// --- Условия для сигналов ---
if (not na(k) and not na(d))
    if (co and k < OverSold)
        strategy.entry("StochLE", strategy.long, comment="StochLE")
    if (cu and k > OverBought)
        strategy.entry("StochSE", strategy.short, comment="StochSE")
